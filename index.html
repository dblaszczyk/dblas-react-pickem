<!-- index.html -->
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Pickem</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.2/react.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.2/react-dom.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" integrity="sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ==" crossorigin="anonymous">
    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css" integrity="sha384-aUGj/X2zp5rLCbBxumKTCw2Z50WgIr1vs/PFN4praOTvYXWlVyh2UtNUU0KAUhAX" crossorigin="anonymous">
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js" integrity="sha512-K1qjQ+NcF2TYO/eI3M6v8EiNYZfA95pQumfvcVrTHtwQVDG+aHRqLi/ETn2uB+1JqwYqVG3LIvdm9lj6imS/pQ==" crossorigin="anonymous"></script>
    <script src="https://cdn.firebase.com/js/client/2.3.1/firebase.js"></script>
  </head>
  <body>
    <div id="content"></div>
    <script type="text/babel">
      var Pickem = React.createClass({
        getInitialState: function(){
          return {
            games : [],
            week : 1
          }
        },
        componentDidMount: function(){
          $.get('http://www.nfl.com/liveupdate/scores/scores.json',(data) => {
            let gamesArray = [];
            for ( let prop in data ){
              data[prop].id = prop;
              gamesArray.push(data[prop]);
            }
            console.log(gamesArray);
            this.setState({games: gamesArray});
          });
          console.log(this.state.games);
        },
        render: function(){
          return (
            <div className="pickemForm">
              <h1>Week  Pickem</h1>
              <GameList games={this.state.games} />
            </div>
          );
        }
      });
      var GameList = React.createClass({
        render: function(){
          let gameItems = this.props.games.map(function(game) {
            return (
              <Game key={game.id} awayTeam={game.away.abbr} homeTeam={game.home.abbr} />
            );
          });
          return (
            <ul className="gameList">
              {gameItems}
            </ul>
          );
        }
      });
      var Game = React.createClass({
        render: function(){
          return(
            <li>
              <Team teamAbbr={this.props.awayTeam} />
              <Chooser />
              <Team teamAbbr={this.props.homeTeam} />
            </li>
          );
        }
      });
      var Team = React.createClass({
        render: function(){
          let imgUrl
          return(
              <span>
                <img src={'http://i.nflcdn.com/static/site/7.2/img/logos/teams-matte-80x53/'+this.props.teamAbbr+'.png'} />
                {this.props.teamAbbr}
              </span>
          );
        }
      });
      var Chooser = React.createClass({
        render: function(){
          return(
              <span>chooser</span>
          );
        }
      });
      ReactDOM.render(
        <Pickem />,
        document.getElementById('content')
      );
    </script>
  </body>
</html>
